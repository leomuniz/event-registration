var page=function(document,$){var app={isReady:function(callback){$(document).ready(function(){callback()})},start:function(){app.setVariables(),app.setEvents()},setVariables:function(){app.scrollOffset=100,app.userTable=$("table#"+plugin.usersTableId),app.userDetailsContainer=$("#"+plugin.userDetailsId),app.loadingGif=$("#"+plugin.loadingGifId)},setEvents:function(){app.userTable.on("click","tbody tr",app.fetchUserDetails)},fetchUserDetails:function(event){var wasSelected=$(this).hasClass("selected"),ajaxData={};event.preventDefault(),app.userTable.find("tr").removeClass("selected"),app.userDetailsContainer.html(""),wasSelected||($(this).addClass("selected"),app.loadingGif.show(),app.animateTo(app.userDetailsContainer,1e3),ajaxData.action=plugin.userDetailsAjaxAction,ajaxData.userId=$(this).data("user-id"),ajaxData._wpnonce=plugin._wpnonce,$.ajax({type:"POST",url:plugin.ajaxUrl,data:ajaxData,dataType:"html",success:function(response){app.userDetailsContainer.html(response)},error:function(xhr,status,error){console.error("Error: "+xhr.status+" - "+error)},complete:function(){app.loadingGif.hide()}}))},animateTo:function(element,seconds){$("html, body").animate({scrollTop:element.offset().top-app.scrollOffset},seconds)}};return app}(document,jQuery);page.isReady(page.start);